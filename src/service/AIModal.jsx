 
import {GoogleGenerativeAI} from "@google/generative-ai"



  
  const apiKey =import.meta.env.VITE_GOOGLE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  

    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location : Las Vegas , for 3 Days for Couple with a budget , Give me a Hotels option list with HotelName , Hotel address ,Price ,hotel image url , geo coordinates , rating ,descriptions and  nearby Restaurants name , Restaurants address ,Price ,Restaurants image url , geo coordinates , rating ,descriptions and suggest itinerary with placeName, Place Details , Place image Url ,Geo Coordinates , ticket Pricing , time  travel each of location for 3 days with each day plan with best time to visit and suggest location wise best nearby Restaurants name , Restaurants address ,Price ,Restaurants image url , geo coordinates , rating ,descriptions in JSON format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a comprehensive 3-day Las Vegas itinerary for a couple on a budget, along with hotel and restaurant options, all formatted in JSON. This plan focuses on free and affordable activities to help manage costs.\n\n```json\n{\n  \"location\": \"Las Vegas, Nevada\",\n  \"budget\": \"Budget-Conscious\",\n  \"duration\": \"3 Days\",\n  \"travelers\": \"Couple\",\n  \"hotels\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$50 - $100/night\",\n       \"hotelImageUrl\": \"https://example.com/circuscircus.jpg\",\n      \"geoCoordinates\": { \"latitude\": 36.1392, \"longitude\": -115.1694 },\n      \"rating\": 3.5,\n       \"descriptions\": \"Affordable option on the Strip, known for its family-friendly atmosphere, but also suitable for couples on a budget. Features free circus acts.\",\n         \"nearbyRestaurants\": [\n           {\n             \"restaurantName\": \"The Steakhouse\",\n             \"restaurantAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n             \"price\": \"$30-$60\",\n             \"restaurantImageUrl\": \"https://example.com/steakhouse.jpg\",\n               \"geoCoordinates\": { \"latitude\": 36.1392, \"longitude\": -115.1694 },\n             \"rating\": 4.2,\n             \"descriptions\": \"Classic steakhouse with a variety of cuts and sides.\"\n            },\n           {\n             \"restaurantName\": \"Pizzeria\",\n            \"restaurantAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n             \"price\": \"$15-$25\",\n             \"restaurantImageUrl\": \"https://example.com/pizzeria.jpg\",\n               \"geoCoordinates\": { \"latitude\": 36.1392, \"longitude\": -115.1694 },\n              \"rating\": 3.8,\n             \"descriptions\": \"Casual dining option with pizza, pasta, and salads.\"\n            }\n         ]\n    },\n      {\n      \"hotelName\": \"Excalibur Hotel\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$60 - $120/night\",\n        \"hotelImageUrl\": \"https://example.com/excalibur.jpg\",\n      \"geoCoordinates\": { \"latitude\": 36.1024, \"longitude\": -115.1706 },\n      \"rating\": 3.8,\n      \"descriptions\": \"Themed hotel with a castle design, offers value-friendly rates and several dining options. Good for a fun atmosphere on a budget.\",\n        \"nearbyRestaurants\": [\n           {\n             \"restaurantName\": \"Dick's Last Resort\",\n             \"restaurantAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n             \"price\": \"$20-$40\",\n             \"restaurantImageUrl\": \"https://example.com/dicks.jpg\",\n            \"geoCoordinates\": { \"latitude\": 36.1024, \"longitude\": -115.1706 },\n             \"rating\": 4.0,\n             \"descriptions\": \"Known for its boisterous atmosphere and American fare.\"\n            },\n           {\n             \"restaurantName\": \"Buca di Beppo\",\n             \"restaurantAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n             \"price\": \"$25-$50\",\n             \"restaurantImageUrl\": \"https://example.com/bucadibeppo.jpg\",\n                \"geoCoordinates\": { \"latitude\": 36.1024, \"longitude\": -115.1706 },\n             \"rating\": 4.1,\n             \"descriptions\": \"Family-style Italian dishes perfect for sharing.\"\n            }\n         ]\n    },\n    {\n      \"hotelName\": \"The LINQ Hotel + Experience\",\n        \"hotelAddress\": \"3535 S Las Vegas Blvd, Las Vegas, NV 89109\",\n        \"price\": \"$80 - $150/night\",\n        \"hotelImageUrl\":\"https://example.com/linq.jpg\",\n      \"geoCoordinates\": { \"latitude\": 36.1167, \"longitude\": -115.1703 },\n        \"rating\": 4.0,\n        \"descriptions\": \"Modern hotel with great access to The LINQ Promenade. Slightly higher priced, but offers a vibrant atmosphere.\",\n       \"nearbyRestaurants\":[\n          {\n             \"restaurantName\": \"Hash House A Go Go\",\n             \"restaurantAddress\": \"3535 S Las Vegas Blvd, Las Vegas, NV 89109\",\n             \"price\":\"$20-$40\",\n              \"restaurantImageUrl\":\"https://example.com/hash.jpg\",\n              \"geoCoordinates\": { \"latitude\": 36.1167, \"longitude\": -115.1703 },\n              \"rating\": 4.3,\n             \"descriptions\": \"Known for its large portions of creative breakfast fare.\"\n           },\n           {\n            \"restaurantName\": \"In-N-Out Burger\",\n            \"restaurantAddress\": \"3545 S Las Vegas Blvd, Las Vegas, NV 89109\",\n             \"price\": \"$8-$15\",\n             \"restaurantImageUrl\":\"https://example.com/innout.jpg\",\n               \"geoCoordinates\": { \"latitude\": 36.1167, \"longitude\": -115.1703 },\n              \"rating\": 4.5,\n              \"descriptions\": \"Popular West Coast burger chain known for its quality and price.\"\n           }\n      ]\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip & Free Attractions\",\n      \"bestTimeToVisit\": \"Morning and Afternoon\",\n      \"plan\": [\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Gardens\",\n          \"placeDetails\": \"Enjoy the free floral displays which change seasonally. A must see for everyone visiting the city\",\n          \"placeImageUrl\": \"https://example.com/bellagio_gardens.jpg\",\n          \"geoCoordinates\": { \"latitude\": 36.1127, \"longitude\": -115.1743 },\n          \"ticketPricing\": \"Free\",\n           \"timeToTravel\":\"0 mins\",\n             \"nearbyRestaurant\":{\n             \"restaurantName\": \"Mon Ami Gabi\",\n              \"restaurantAddress\": \"3655 S Las Vegas Blvd, Las Vegas, NV 89109\",\n               \"price\":\"$30-$60\",\n                 \"restaurantImageUrl\":\"https://example.com/monami.jpg\",\n                  \"geoCoordinates\": { \"latitude\": 36.1127, \"longitude\": -115.1743 },\n                \"rating\": 4.4,\n               \"descriptions\":\"French Bistro, great for brunch, lunch or dinner, with views of the Bellagio Fountains.\"\n               }\n        },\n        {\n          \"placeName\": \"Fountains of Bellagio\",\n          \"placeDetails\": \"Watch the spectacular water show set to music, which occurs every 30 minutes in the afternoon and every 15 minutes in the evening.\",\n          \"placeImageUrl\": \"https://example.com/bellagio_fountains.jpg\",\n           \"geoCoordinates\": { \"latitude\": 36.1129, \"longitude\": -115.1736 },\n          \"ticketPricing\": \"Free\",\n            \"timeToTravel\":\"5 mins\",\n             \"nearbyRestaurant\":{\n             \"restaurantName\": \"Grand Lux Cafe\",\n              \"restaurantAddress\":\"3325 S Las Vegas Blvd, Las Vegas, NV 89109\",\n                \"price\":\"$20-$40\",\n              \"restaurantImageUrl\":\"https://example.com/grandlux.jpg\",\n               \"geoCoordinates\": { \"latitude\": 36.1129, \"longitude\": -115.1736 },\n              \"rating\": 4.2,\n                \"descriptions\":\"American restaurant with a large menu, open 24/7.\"\n               }\n\n        },\n        {\n          \"placeName\": \"The LINQ Promenade\",\n          \"placeDetails\": \"Stroll through the outdoor shopping, dining, and entertainment district. Enjoy the street performers and vibrant atmosphere.\",\n           \"placeImageUrl\": \"https://example.com/linq_promenade.jpg\",\n           \"geoCoordinates\": { \"latitude\": 36.1169, \"longitude\": -115.1704 },\n          \"ticketPricing\": \"Free (activities at extra cost)\",\n           \"timeToTravel\":\"10 mins\",\n               \"nearbyRestaurant\":{\n                  \"restaurantName\":\"Gordon Ramsay Fish & Chips\",\n                 \"restaurantAddress\": \"3545 S Las Vegas Blvd, Las Vegas, NV 89109\",\n                  \"price\":\"$15-$30\",\n                 \"restaurantImageUrl\": \"https://example.com/ramsayfish.jpg\",\n                  \"geoCoordinates\": { \"latitude\": 36.1169, \"longitude\": -115.1704 },\n                   \"rating\":4.3,\n                    \"descriptions\":\"Quick-service British-style fish and chips from celebrity chef Gordon Ramsay.\"\n               }\n        },\n        {\n          \"placeName\": \"Mirage Volcano\",\n          \"placeDetails\": \"Witness the eruption of the volcano with fire and special effects. Performances are every hour in the evening.\",\n           \"placeImageUrl\": \"https://example.com/mirage_volcano.jpg\",\n          \"geoCoordinates\": { \"latitude\": 36.1211, \"longitude\": -115.1736 },\n          \"ticketPricing\": \"Free\",\n             \"timeToTravel\":\"5 mins\",\n             \"nearbyRestaurant\":{\n              \"restaurantName\":\"California Pizza Kitchen\",\n               \"restaurantAddress\":\"3400 S Las Vegas Blvd, Las Vegas, NV 89109\",\n                \"price\":\"$20-$35\",\n                \"restaurantImageUrl\":\"https://example.com/cpk.jpg\",\n                 \"geoCoordinates\": { \"latitude\": 36.1211, \"longitude\": -115.1736 },\n                 \"rating\": 4.0,\n                 \"descriptions\":\"Popular pizza chain with a variety of unique pizzas and other dishes.\"\n              }\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown Las Vegas & Fremont Street Experience\",\n        \"bestTimeToVisit\": \"Evening\",\n      \"plan\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"Walk beneath the Viva Vision canopy and enjoy the hourly light shows, free concerts, street performers and the classic Las Vegas neon.\",\n         \"placeImageUrl\": \"https://example.com/fremont_street.jpg\",\n           \"geoCoordinates\": { \"latitude\": 36.1701, \"longitude\": -115.1401 },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\":\"20 mins\",\n           \"nearbyRestaurant\":{\n                \"restaurantName\": \"Heart Attack Grill\",\n                  \"restaurantAddress\": \"515 E Fremont St, Las Vegas, NV 89101\",\n                    \"price\":\"$15-$30\",\n                    \"restaurantImageUrl\":\"https://example.com/heartattack.jpg\",\n                    \"geoCoordinates\": { \"latitude\": 36.1701, \"longitude\": -115.1401 },\n                    \"rating\": 3.5,\n                   \"descriptions\": \"Infamous restaurant known for its large burgers and high-calorie meals. (Not recommended for everyone)\"\n             }\n        },\n        {\n          \"placeName\": \"Container Park\",\n          \"placeDetails\": \"Explore the unique shops and eateries built from shipping containers. There is also a playground and live entertainment.\",\n           \"placeImageUrl\": \"https://example.com/container_park.jpg\",\n           \"geoCoordinates\": { \"latitude\": 36.1695, \"longitude\": -115.1364 },\n          \"ticketPricing\": \"Free\",\n            \"timeToTravel\":\"5 mins\",\n              \"nearbyRestaurant\":{\n                \"restaurantName\": \"Evel Pie\",\n                 \"restaurantAddress\": \"508 Fremont St, Las Vegas, NV 89101\",\n                 \"price\":\"$10-$25\",\n                 \"restaurantImageUrl\":\"https://example.com/evelpie.jpg\",\n                   \"geoCoordinates\": { \"latitude\": 36.1695, \"longitude\": -115.1364 },\n                \"rating\": 4.4,\n                 \"descriptions\": \"A popular pizza joint with a unique, rock-and-roll vibe.\"\n             }\n        },\n          {\n          \"placeName\": \"Mob Museum\",\n           \"placeDetails\": \"Explore the history of organized crime. (Optional, ticketed activity).\",\n           \"placeImageUrl\": \"https://example.com/mob_museum.jpg\",\n           \"geoCoordinates\": { \"latitude\": 36.1695, \"longitude\": -115.1397 },\n            \"ticketPricing\": \"$29.95 per person\",\n            \"timeToTravel\":\"2 mins\",\n            \"nearbyRestaurant\":{\n            \"restaurantName\": \"Eat.\",\n            \"restaurantAddress\": \"707 E Carson Ave, Las Vegas, NV 89101\",\n            \"price\":\"$20-$35\",\n              \"restaurantImageUrl\":\"https://example.com/eat.jpg\",\n            \"geoCoordinates\": { \"latitude\": 36.1695, \"longitude\": -115.1397 },\n           \"rating\":4.6,\n            \"descriptions\": \"Popular brunch and lunch spot in downtown area.\"\n           }\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"South Strip & Relaxing Activities\",\n       \"bestTimeToVisit\": \"Morning and Afternoon\",\n      \"plan\": [\n        {\n          \"placeName\": \"Welcome to Fabulous Las Vegas Sign\",\n          \"placeDetails\": \"Take photos at this iconic landmark. It's great for pictures\",\n          \"placeImageUrl\": \"https://example.com/welcome_sign.jpg\",\n         \"geoCoordinates\": { \"latitude\": 36.0827, \"longitude\": -115.1725 },\n          \"ticketPricing\": \"Free\",\n           \"timeToTravel\":\"15 mins\",\n             \"nearbyRestaurant\":{\n               \"restaurantName\": \"Gordon Ramsay Burger\",\n                \"restaurantAddress\": \"3667 S Las Vegas Blvd, Las Vegas, NV 89109\",\n                 \"price\":\"$25-$45\",\n                 \"restaurantImageUrl\":\"https://example.com/ramsayburger.jpg\",\n                 \"geoCoordinates\": { \"latitude\": 36.0827, \"longitude\": -115.1725 },\n                \"rating\": 4.4,\n                \"descriptions\": \"Gourmet burgers from celebrity chef Gordon Ramsay.\"\n              }\n        },\n       {\n          \"placeName\": \"Mandalay Bay Beach (Seasonal)\",\n         \"placeDetails\": \"Enjoy the man-made beach, pools, and wave pool. (Check for seasonality and access fees for non-guests).\",\n          \"placeImageUrl\": \"https://example.com/mandalay_beach.jpg\",\n           \"geoCoordinates\": { \"latitude\": 36.0935, \"longitude\": -115.1740 },\n          \"ticketPricing\": \"Access fees may apply\",\n            \"timeToTravel\":\"10 mins\",\n               \"nearbyRestaurant\":{\n                \"restaurantName\": \"Border Grill\",\n                 \"restaurantAddress\": \"3950 S Las Vegas Blvd, Las Vegas, NV 89119\",\n                  \"price\":\"$25-$50\",\n                  \"restaurantImageUrl\":\"https://example.com/bordergrill.jpg\",\n                   \"geoCoordinates\": { \"latitude\": 36.0935, \"longitude\": -115.1740 },\n                    \"rating\":4.3,\n                  \"descriptions\": \"Modern Mexican cuisine with a focus on fresh ingredients.\"\n               }\n\n        },\n      {\n        \"placeName\":\"Eiffel Tower Viewing Deck\",\n        \"placeDetails\":\"Visit the top of the half size eiffel tower in Vegas for amazing views of the city\",\n          \"placeImageUrl\": \"https://example.com/eiffel_tower.jpg\",\n        \"geoCoordinates\": { \"latitude\": 36.1099, \"longitude\": -115.1725 },\n           \"ticketPricing\": \"$27.50 per person\",\n           \"timeToTravel\":\"10 mins\",\n               \"nearbyRestaurant\":{\n              \"restaurantName\":\"Cafe Americano\",\n               \"restaurantAddress\": \"3655 S Las Vegas Blvd, Las Vegas, NV 89109\",\n               \"price\":\"$20-$35\",\n                \"restaurantImageUrl\":\"https://example.com/cafeamericano.jpg\",\n                \"geoCoordinates\": { \"latitude\": 36.1099, \"longitude\": -115.1725 },\n              \"rating\":4.1,\n                \"descriptions\":\"Casual dining with American and international fare.\"\n           }\n        },\n       {\n          \"placeName\": \"High Roller Observation Wheel (Optional)\",\n         \"placeDetails\": \"Take a ride on the world's tallest observation wheel for panoramic city views. (Optional activity, ticketed).\",\n         \"placeImageUrl\": \"https://example.com/high_roller.jpg\",\n            \"geoCoordinates\": { \"latitude\": 36.1163, \"longitude\": -115.1697 },\n          \"ticketPricing\": \"$30 per person\",\n           \"timeToTravel\":\"15 mins\",\n             \"nearbyRestaurant\":{\n                \"restaurantName\":\"Yard House\",\n                 \"restaurantAddress\": \"3545 S Las Vegas Blvd, Las Vegas, NV 89109\",\n                  \"price\":\"$20-$40\",\n                 \"restaurantImageUrl\":\"https://example.com/yardhouse.jpg\",\n                 \"geoCoordinates\": { \"latitude\": 36.1163, \"longitude\": -115.1697 },\n                \"rating\": 4.2,\n                \"descriptions\": \"Large selection of beers and diverse American dishes.\"\n              }\n       }\n      ]\n    }\n  }\n}\n```\n\n**Important Notes:**\n\n*   **Prices:** Hotel and restaurant prices are approximate and can fluctuate based on time of year and demand. Check current rates before booking.\n*   **Ticket Prices:** Always check the official websites for the most up-to-date ticket prices. Some attractions may offer discounts when purchased online or in advance.\n*   **Walking:** Las Vegas is best explored on foot, but distances between locations, especially on the strip can be significant. Use ride-sharing services like Uber or Lyft, or the monorail to save time.\n*   **Free Shows:** Be sure to check for the schedules of free shows, as some may have limited performance times.\n*   **Restaurant Reservations:** Consider making reservations for popular restaurants, especially during peak hours or weekends.\n*   **Flexibility:** This is just a sample itinerary, feel free to customize it to your own tastes and energy levels.\n*   **Image URLs:** The `ImageUrl` fields are placeholders and need to be updated with actual links.\n\nI hope this comprehensive plan helps you have a great time in Las Vegas! Let me know if you have any other questions.\n"},
          ],
        },
      ],
    });
  
    
  